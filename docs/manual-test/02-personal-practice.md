# 個人練習記録のテストケース

## テストケース一覧

### TC-PRACTICE-001: 練習記録の追加（基本フロー）

**優先度**: 高  
**テスト種別**: 機能テスト  
**対象画面**: ダッシュボード、練習予定作成フォーム、練習ログ追加フォーム、タイム入力モーダル、タグ選択画面

#### 前提条件
- ログイン済みの状態である
- ダッシュボード画面が表示されている

#### テスト手順

| ステップ | 操作 | 期待結果 |
|---------|------|---------|
| 1 | ダッシュボードのカレンダーで今日の日付をクリック | 日付選択モーダルが表示される |
| 2 | 「練習予定を追加」を選択 | 練習予定作成フォーム（PracticeBasicForm）が表示される |
| 3 | 日付が自動入力されていることを確認 | 選択した日付が表示されている |
| 4 | 場所を入力（例: 「○○プール」） | 場所フィールドに値が入力される（必須項目） |
| 5 | メモを入力（任意、例: 「天候良好」） | メモフィールドに値が入力される |
| 6 | 「練習予定を作成」ボタンをクリック | 練習予定が作成され、練習ログ追加フォーム（PracticeLogForm）が自動的に開く |
| 7 | 「メニューを追加」ボタンをクリック | 練習メニューが追加される（元々は1つだったが、ボタン押下で2個になった） |
| 8 | ゴミ箱アイコンをクリック | 練習メニューが1つに減る |
| 9 | 距離を入力（例: 50） | 距離フィールドに値が入力される |
| 10 | 本数を入力（例: 2） | 本数フィールドに値が入力される |
| 11 | セット数を入力（例: 2） | セット数フィールドに値が入力される |
| 12 | サークル（分）、サークル（秒）を入力（例: 2分30秒） | サークルフィールドに値が入力される |
| 13 | 種目を選択（例: 「フリー」） | 種目が選択される |
| 14 | 「タイムを入力」ボタンをクリック | タイム入力モーダル（TimeInputModal）が表示される（入力欄が本数×セット数の数だけ表示されていることを確認。例: 本数2 × セット数2 = 4個の入力欄） |
| 15 | セット1、本数1のタイムを入力（例: 1:30.00） | タイムが入力される |
| 16 | セット1、本数2のタイムを入力（例: 1:28.00） | タイムが入力される |
| 17 | セット2、本数1のタイムを入力（例: 1:32.00） | タイムが入力される |
| 18 | セット2、本数2のタイムを入力（例: 1:32.00） | タイムが入力される |
| 19 | 「保存」ボタンをクリック | モーダルが閉じ、練習記録追加フォームに戻る |
| 20 | タイムが記録されていることを確認 | さっき入力したタイムと平均、最速が表示されていることを確認 |
| 21 | メモを入力（任意、例: 「前に追いついてしまった」） | メモフィールドに値が入力される |
| 22 | タグ入力欄（TagInput）に入力（例：AN）し、エンター | タグが登録される |
| 23 | 「練習記録を保存」ボタンをクリック | タイムとタグが付与された練習記録が保存される |
| 24 | フォームが閉じる | ダッシュボードに戻る |
| 25 | カレンダーに練習記録のマーカーが表示されることを確認 | 練習記録のマーカーが表示される |
| 26 | ダッシュボードのカレンダーで今日の日付をクリック | 先ほどの登録内容が登録されている |

---

### TC-PRACTICE-002: 練習記録の編集（基本情報）

**優先度**: 高  
**テスト種別**: 機能テスト  
**対象画面**: ダッシュボード、練習予定編集フォーム

#### 前提条件
- ログイン済みの状態である
- 既存の練習記録（practice）が存在する

#### テスト手順

| ステップ | 操作 | 期待結果 |
|---------|------|---------|
| 1 | ダッシュボードのカレンダーで今日の日付をクリック | 練習内容が表示される |
| 2 | 練習記録（上の方）の「編集」ボタン(鉛筆アイコン)をクリック | 練習予定編集フォーム（PracticeBasicForm）が表示される |
| 3 | 既存の値が表示されていることを確認 | 日付、場所、メモが表示されている |
| 4 | 場所を変更（例: 「○○プール」→「△△プール」） | 場所フィールドの値が変更される |
| 5 | 「練習予定を更新」ボタンをクリック | 自動でモーダルが閉じ、再度練習内容が表示される（日別詳細モーダルが自動的に開く） |

---

### TC-PRACTICE-003: プラクティスログの編集（サークル・本数・セット数など）

**優先度**: 高  
**テスト種別**: 機能テスト  
**対象画面**: ダッシュボード、練習ログ編集フォーム

#### 前提条件
- ログイン済みの状態である
- 既存の練習ログ（practice_log）が存在する（距離、本数、セット数、サークル、種目が登録されている）

#### テスト手順

| ステップ | 操作 | 期待結果 |
|---------|------|---------|
| 1 | ダッシュボードのカレンダーで練習記録がある日付をクリック | 日別詳細モーダルが表示される |
| 2 | 練習ログ（下の方）の「編集」ボタン（鉛筆アイコン）をクリック | 練習ログ編集フォーム（PracticeLogForm）が表示される |
| 3 | 既存の値が表示されていることを確認 | 距離、本数、セット数、サークル（分・秒）、種目が表示されている |
| 4 | 距離を変更（例: 50 → 200） | 距離フィールドの値が変更される |
| 5 | 本数を変更（例: 2 → 3） | 本数フィールドの値が変更される |
| 6 | セット数を変更（例: 2 → 3） | セット数フィールドの値が変更される |
| 7 | サークル（分）を変更（例: 2分 → 3分） | サークル（分）フィールドの値が変更される |
| 8 | サークル（秒）を変更（例: 30秒 → 45秒） | サークル（秒）フィールドの値が変更される |
| 9 | 種目を変更（例: 「フリー」→「バタフライ」） | 種目が変更される |
| 10 | 「練習記録を更新」ボタンをクリック | 変更が保存される |
| 11 | フォームが閉じ、日別詳細モーダルが自動で開く | 日別詳細モーダルが表示される |
| 12 | 変更された内容が反映されていることを確認 | 日別詳細モーダルで変更が確認できる（距離、本数、セット数、サークル、種目が更新されている。例: 「200m × 3本 × 3セット」が表示される） |

---

### TC-PRACTICE-004: 練習タイムの編集

**優先度**: 高  
**テスト種別**: 機能テスト  
**対象画面**: ダッシュボード、練習ログ編集フォーム、タイム入力モーダル

#### 前提条件
- ログイン済みの状態である
- 既存の練習ログ（practice_log）が存在する
- 既存の練習タイム（practice_time）が登録されている

#### テスト手順

| ステップ | 操作 | 期待結果 |
|---------|------|---------|
| 1 | ダッシュボードのカレンダーで練習記録がある日付をクリック | 日別詳細モーダルが表示される |
| 2 | 練習ログ（practice_log）の「編集」ボタン（鉛筆アイコン）をクリック | 練習ログ編集フォーム（PracticeLogForm）が表示される |
| 3 | 既存のタイムが表示されていることを確認 | タイムテーブルに既存のタイムが表示されている（セット数×本数の数だけタイムが表示されている） |
| 4 | 「タイムを編集」ボタンをクリック | タイム入力モーダル（TimeInputModal）が表示される |
| 5 | 既存のタイムが入力欄に表示されていることを確認 | 各セット・本数のタイムが入力欄に表示されている |
| 6-9 | タイムを変更（4×3=12個のタイム入力フィールドにそれぞれ異なるタイムを入力） | タイムが変更される（例: セット1本数1: 1:25.00、セット1本数2: 1:26.00、セット1本数3: 1:27.00、セット1本数4: 1:28.00、セット2本数1: 1:24.00、セット2本数2: 1:25.50、セット2本数3: 1:26.50、セット2本数4: 1:27.50、セット3本数1: 1:23.00、セット3本数2: 1:24.50、セット3本数3: 1:25.50、セット3本数4: 1:26.50） |
| 10 | 「保存」ボタンをクリック | モーダルが閉じ、練習ログ編集フォームに戻る |
| 11 | 変更されたタイムが表示されていることを確認 | タイムテーブルに変更後のタイムと平均、最速が表示されている |
| 12 | 「練習記録を更新」ボタンをクリック | 変更が保存される |
| 13 | フォームが閉じる | 日別詳細モーダルが自動的に開く |
| 14 | 変更されたタイムが反映されていることを確認 | 日別詳細モーダルで変更が確認できる（変更後のタイムが表示されている） |

---

### TC-PRACTICE-005: タグの編集（色変更・名前変更）

**優先度**: 中  
**テスト種別**: 機能テスト  
**対象画面**: 練習ログ編集フォーム、タグ入力コンポーネント、タグ管理モーダル

#### 前提条件
- ログイン済みの状態である
- 既存のタグが存在する（TC-PRACTICE-001で作成されたANタグなど）
- 練習ログ編集フォーム（PracticeLogForm）が表示されている

#### テスト手順

| ステップ | 操作 | 期待結果 |
|---------|------|---------|
| 1 | 既存のタグが選択されている場合は、バツボタンをクリックして選択を解除 | タグの選択が解除される |
| 2 | タグ入力欄（TagInput）をクリック | タグ選択画面（ドロップダウン）が表示される |
| 3 | 既存のタグ一覧が表示されていることを確認 | 利用可能なタグが一覧表示される |
| 4 | 編集したいタグの右側にある3点リーダーボタン（「タグを管理」ボタン）をクリック | タグ管理モーダル（TagManagementModal）が表示される |
| 5 | タグ管理モーダルが開くことを確認 | タグ管理モーダルが表示される |
| 6 | 既存のタグ名と色が表示されていることを確認 | タグ名と現在の色が表示されている（ANタグであることを確認） |
| 7 | タグ名を変更（例: 「AN」→「AN_EDITED」） | タグ名フィールドの値が変更される |
| 8 | 色を変更（例: 青 → 緑） | 色選択エリアで新しい色が選択される（選択された色に枠が表示される） |
| 9 | プレビューエリアで変更内容が確認できることを確認 | 変更後のタグ名と色がプレビュー表示される |
| 10 | 「更新」ボタンをクリック | タグが更新される |
| 11 | タグ管理モーダルが閉じることを確認 | タグ管理モーダルが閉じる |
| 12 | タグ選択画面に戻り、更新されたタグが新しい名前と色で表示されていることを確認 | タグ入力欄を再度クリックしてドロップダウンを開き、更新されたタグ（AN_EDITED）が新しい色で表示される |
| 13 | 更新されたタグ（AN_EDITED）をクリックして追加 | タグが選択される（選択済みタグとして表示される） |
| 14 | 「練習記録を更新」ボタンをクリック | 更新されたタグが付与された練習記録が保存される |
| 15 | ダッシュボードの日別詳細モーダルで更新されたタグが新しい名前と色で表示されていることを確認 | タグが新しい名前と色で表示されている |

---

### TC-PRACTICE-006: 練習記録の削除（順次削除）

**優先度**: 中  
**テスト種別**: 機能テスト  
**対象画面**: ダッシュボード、日別詳細モーダル、練習ログ編集フォーム、タグ管理モーダル

#### 前提条件
- ログイン済みの状態である
- 既存の練習記録が存在する（practice_logとpractice、タグが存在する）

#### テスト手順

| ステップ | 操作 | 期待結果 |
|---------|------|---------|
| 1 | ダッシュボードのカレンダーで練習記録がある日付をクリック | 日別詳細モーダルが表示される |
| 2 | 練習ログの編集ボタンをクリックして編集モーダルを開く | 練習ログ編集フォーム（PracticeLogForm）が表示される |
| 3 | 選択されているタグがあれば、バツボタンを押して選択状態を解除 | タグの選択が解除される |
| 4 | タグ入力欄をクリックしてタグ一覧を表示 | タグ選択画面（ドロップダウン）が表示される |
| 5 | タグの3点リーダーボタンをクリックしてタグ管理モーダルを開く | タグ管理モーダル（TagManagementModal）が表示される |
| 6 | タグ管理モーダルで「削除」ボタンをクリック | 削除確認モーダルが表示される |
| 7 | 削除確認モーダルで「削除」をクリック | タグが削除される |
| 8 | 練習ログ編集モーダルを閉じて日別詳細モーダルに戻る | 日別詳細モーダルが表示される |
| 9 | Practice_logの削除アイコンをクリック | Practice_logが削除される（確認ダイアログなしで直接削除） |
| 10 | 削除処理の完了を待つ | 削除が完了する |
| 11 | 「練習メニューを追加」ボタンが表示されていることを確認 | 「練習メニューを追加」ボタンが表示される |
| 12 | Practice_Logが0件であることを確認（削除ボタンが存在しないことを確認） | Practice_logの削除ボタンが存在しない |
| 13 | Practiceの削除アイコンをクリック | 削除確認ダイアログが表示される |
| 14 | 削除確認ダイアログで「削除」をクリック | Practiceが削除される |
| 15 | 日別詳細モーダルが閉じていることを確認 | モーダルが閉じる |
| 16 | カレンダーのマーカーが更新されていることを確認 | 練習記録のマーカー（practice-mark、practice-log-mark）が存在しないことを確認 |

---
