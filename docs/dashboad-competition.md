# ダッシュボード経由で大会記録を登録するフロー

## 概要
- ダッシュボードのカレンダーから大会（Competition）を登録し、エントリー・記録までを順に入力する際のモーダル遷移と保存先テーブルの整理メモ
- 操作の各段階で `competitions` → `entries` → `records`・`split_times` と段階的に保存が行われる構成

## 操作フロー
1. **日付をクリック**
   - カレンダー上の任意の日をクリックすると、当日の詳細モーダル（DayDetail）を表示
2. **大会記録の追加を選択**
   - DayDetail モーダル内から「大会記録の追加」をクリックし、大会情報入力用のモーダルを開く
3. **Competition モーダルで大会情報を登録**
   - `competitions` テーブルに対応する基本情報（大会名・日時・場所・プール種別・メモ等）を入力
   - 「次へ（記録登録）」ボタンをクリックすると `competitions` に保存され、保存完了後に Entry モーダルへ自動遷移
4. **Entry モーダルでエントリー情報を登録**
   - `entries` テーブルの詳細（種目・エントリータイム・メモ等）を入力
   - 「エントリー登録」をクリックすると `entries` に保存され、保存完了後に Record モーダルへ自動遷移
5. **Record モーダルで大会記録を登録**
   - `records` テーブルの基本情報（種目・タイム・リレー有無・メモ・動画URL等）を入力
   - 必要に応じてスプリットタイム入力欄から `split_times` テーブルに登録するスプリットタイムを追加
   - 「保存」をクリックすると `records` および任意入力した `split_times` がまとめて保存される

## モーダル遷移
- DayDetail モーダル → 「大会記録の追加」をクリック
- Competition モーダル（`competitions` テーブル） → 保存後、Entry モーダルへ遷移
- Entry モーダル（`entries` テーブル） → 保存後、Record モーダルへ遷移
- Record モーダル（`records` テーブル）
  - スプリットタイム入力欄 → `split_times` サブフォーム（同一モーダル内で追加入力）

## データ保存タイミングと対象テーブル
- Competition モーダルの保存: `competitions`
- Entry モーダルの保存: `entries`
- Record モーダルの保存:
  - 本体: `records`
  - スプリットタイム（任意）：`split_times`

## 備考
- Entry モーダルではエントリー登録をスキップして記録のみ登録することも可能（スキップ時は Record モーダルへ直接遷移）
- Record モーダルでスプリットタイムを入力しない場合でも、`records` の保存自体は可能
- 各モーダルともバリデーションはモーダル内で完結（必須項目が未入力の場合は保存不可）

